window.__require=function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!a&&p)return p(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<r.length;s++)o(r[s]);return o}({ExtendSpineData:[function(t,e){"use strict";cc._RF.push(e,"9818b65jeZAx4ZTsZXegXu2","ExtendSpineData"),sp.SkeletonData.prototype.ensureTexturesLoaded=function(t,e){var n=this.textures||[],r=n.length;if(0!=r)for(var o=0,i=function(){++o>=r&&(t&&t.call(e,!0),t=null)},s=0;s<r;s++){var a=n[s];a.loaded?i():a.once("load",i)}else t.call(e,!1)},sp.SkeletonData.prototype.isTexturesLoaded=function(){if(!this.textures)return!1;for(var t=this.textures,e=t.length,n=0;n<e;n++)if(!t[n].loaded)return!1;return!0},cc._RF.pop()},{}],LangLabel:[function(t,e,n){"use strict";cc._RF.push(e,"50807noBYtF3q/99x4d4/+v","LangLabel");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./StartHelper"),a=t("./version"),c=cc._decorator,p=c.ccclass,l=c.property,u=(c.menu,c.requireComponent),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.key="",e.fontName="",e._label=null,e._string="",e._lang="",e._font="",e._json=null,e._params=[],e._temp_params=[],e}return o(e,t),e.prototype.onEnable=function(){this._lang=a.default.getLocalLang(),this._json||this.updateJson(),this.updateString()},Object.defineProperty(e.prototype,"label",{get:function(){return this._label||(this._label=this.getComponent(cc.Label)),this._label},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"string",{get:function(){return this.label.string},set:function(t){this.label.string=t},enumerable:!1,configurable:!0}),e.prototype.setLangKey=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];-1!==t.indexOf(".")?(this._lang||(this._lang=a.default.getLocalLang()),this.key===t&&this._json||(this.key=t,this.string="",this.updateJson()),this.setParams(e),this.updateString()):this.label.string=t},e.prototype.updateJson=function(){if(this.key){var t=this.key.split("."),e=t[0],n=t[1];this._json=s.startHelper.getAppFontJson(e,n),this.updateFont()}else this._json=null},e.prototype.updateFont=function(){""!==this.fontName?this.fontName!==this._font&&this.setFont(this.fontName):this._json&&this._json.font&&this._json.font!==this._font&&this.setFont(this._json.font)},e.prototype.setFont=function(t){this._font=t;var e=s.startHelper.getAppFont(t);this.label.font=e||null},e.prototype.updateString=function(){var t=this._json?this._json[this._lang]:void 0;if(void 0!==t)this._string=ut.stringFormat(t,this._temp_params);else if(this.key)this._string=this.key;else{var e=this.label.string;this._string=e||""}this._string!==this.label.string&&(this.label.string=this._string)},e.prototype.setParams=function(t){var e=this;this._params.length=0,t.forEach(function(t){return Array.isArray(t)?e._params.pushArr(t):e._params.push(t)}),this.updateTempParams()},e.prototype.updateTempParams=function(){var t=this;this._temp_params=this._params.map(function(e){if("string"==typeof e&&-1!==e.indexOf(".")){var n=e.split("."),r=n[0],o=n[1],i=(assetsMgr.getJsonData(r,o)||{})[t._lang];return void 0!==i?i:e}return e})},i([l(cc.String)],e.prototype,"key",void 0),i([l(cc.String)],e.prototype,"fontName",void 0),i([p,u(cc.Label)],e)}(cc.Component);n.default=f,cc.LangLabel=f,cc._RF.pop()},{"./StartHelper":"StartHelper","./version":"version"}],LangSprite:[function(t,e,n){"use strict";cc._RF.push(e,"c06e7Xwap9NdYFb5S4nkynC","LangSprite");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./version"),a=cc._decorator,c=a.ccclass,p=a.property,l=a.requireComponent,u={cn:0,en:1,jp:2,kr:3,tc:4},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.frames=[],e}return o(e,t),e.prototype.onLoad=function(){var t,e=null!==(t=u[s.default.getLocalLang()])&&void 0!==t?t:0;this.sprite.spriteFrame=this.frames[e]},i([p(cc.Sprite)],e.prototype,"sprite",void 0),i([p([cc.SpriteFrame])],e.prototype,"frames",void 0),i([c,l(cc.Sprite)],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./version":"version"}],LoadingCmpt:[function(t,e,n){"use strict";cc._RF.push(e,"22707/bhUJBNbfneJWzIV5s","LoadingCmpt");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./LangLabel"),p=t("./version"),l=cc._decorator,u=l.ccclass,f=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressInfo=null,e.progressDesc=null,e.versionLbl=null,e.progressLangLabel=null,e.ageTip=null,e.symbolIcon=null,e.releaseList=[],e.loadingAgeTip=!1,e.ageTipCmpt=null,e}return o(e,t),e.prototype.onLoad=function(){var t=this;cc.game.addPersistRootNode(this.node),this.versionLbl.string=p.default.VERSION,cc.assetManager.assets.forEach(function(e){e.name.startsWith("builtin-")||e.name.startsWith("default_")||""===e.name||t.releaseList.push(e)}),this.ageTip.active="inland"===p.default.getAppType()&&this.isMobile()},e.prototype.isMobile=function(){return cc.sys.isNative&&(cc.sys.os==cc.sys.OS_ANDROID||cc.sys.os==cc.sys.OS_IOS)},e.prototype.reset=function(){this.progressDesc.node.parent.active=!0,this.progressInfo.string="0%",this.progressDesc.string="",this.progressInfo.node.active=!0},e.prototype.onNative=function(){var t=this.versionLbl.node.getComponent(cc.Widget);t.isAlignLeft=!1,t.isAlignRight=!0,t.right=60,t.isAlignBottom=!1,t.isAlignTop=!0,t.top=60,this.progressInfo.string="",this.progressDesc.string="",this.progressDesc.node.parent.active=!1},e.prototype.onHotUpdate=function(){this.progressDesc.node.parent.active=!0,this.progressInfo.node.active=!1},e.prototype.setDesc=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.progressLangLabel.setLangKey(t,e)},e.prototype.setProgressText=function(t){this.progressInfo.string=t},e.prototype.clean=function(){this.ageTipCmpt&&(this.ageTipCmpt.parent=mc.getViewNode(),this.ageTipCmpt.zIndex=1e3),cc.game.removePersistRootNode(this.node),this.node.destroy(),this.releaseList.forEach(function(t){cc.assetManager.releaseAsset(t)}),this.releaseList=null},e.prototype.end=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return cc.tween(this.node.getChildByName("logo")).to(.1,{opacity:0}).start(),cc.tween(this.node.getChildByName("bg")).delay(.2).to(1,{opacity:0}).call(function(){return t.clean()}).start(),[4,ut.wait(.15,this)];case 1:return e.sent(),[2]}})})},e.prototype.showActiveLogo=function(t,e){return s(this,void 0,void 0,function(){var n,r,o,i=this;return a(this,function(s){switch(s.label){case 0:cc.tween(this.node.getChildByName("logo")).to(.1,{opacity:0}).start(),n=!0,(r=cc.instantiate2(t,this.node)).FindChild("root/0/val",c.default).setLangKey(e),r.opacity=0,cc.tween(r).to(.1,{opacity:255}).start(),r.on(cc.Node.EventType.TOUCH_END,function(){n=!1}),o=0,s.label=1;case 1:return n&&o<2?(o+=.15,[4,ut.wait(.15,this)]):[3,3];case 2:return s.sent(),[3,1];case 3:return cc.tween(r).to(.12,{opacity:0}).start(),cc.tween(this.node.getChildByName("bg")).delay(.2).to(1,{opacity:0}).call(function(){return i.clean()}).start(),[4,ut.wait(.15,this)];case 4:return s.sent(),[2]}})})},e.prototype.onClickAgeTip=function(){this.showAgeTip()},e.prototype.showAgeTip=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(){return this.loadingAgeTip||"inland"!==p.default.getAppType()||!this.isMobile()?[2]:(this.loadingAgeTip=!0,cc.resources.load("tmp/prefab/native/AgeTipCmpt",cc.Prefab,function(e,n){if(t.loadingAgeTip=!1,n&&t.isValid){var r=t.ageTipCmpt=cc.instantiate(n);r.parent=t.node,r.zIndex=1e3,r.getChildByName("close").on("click",function(){return r.destroy()})}}),[2])})})},i([f(cc.Label)],e.prototype,"progressInfo",void 0),i([f(cc.Label)],e.prototype,"progressDesc",void 0),i([f(cc.Label)],e.prototype,"versionLbl",void 0),i([f(c.default)],e.prototype,"progressLangLabel",void 0),i([f(cc.Node)],e.prototype,"ageTip",void 0),i([f(cc.Node)],e.prototype,"symbolIcon",void 0),i([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"./LangLabel":"LangLabel","./version":"version"}],StartHelper:[function(t,e,n){"use strict";cc._RF.push(e,"c0443+MLJxI1ZW+psJ6pg+E","StartHelper"),Object.defineProperty(n,"__esModule",{value:!0}),n.startHelper=void 0;var r=t("./version"),o=function(){function t(){this.readying={cn:"\u51c6\u5907\u4e2d",en:"Preparing",kr:"\uc900\ube44 \uc911",jp:"\u6e96\u5099",tc:"\u6e96\u5099\u4e2d"},this.appFontMap=new Map,this.appFontJsonMap=new Map}return t.prototype.setAppFont=function(t,e){this.appFontMap.set(t,e)},t.prototype.getAppFont=function(t){var e;return null===(e=this.appFontMap)||void 0===e?void 0:e.get(t)},t.prototype.setAppFontJson=function(t,e){this.appFontJsonMap.set(t,e)},t.prototype.getAppFontJson=function(t,e){var n,r=this.appFontJsonMap.get(t);return null===(n=null==r?void 0:r.json)||void 0===n?void 0:n.find(function(t){return t.id===e})},t.prototype.lang=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)return"";var o=t.split("."),i=o[0],s=o[1],a=this.getAppFontJson(i,s)||{},c=r.default.getLocalLang(),p=a[c];if(void 0!==p){var l=[];return e.forEach(function(t){return Array.isArray(t)?l.pushArr(t):l.push(t)}),this.stringFormat(p,this.updateParams(l,c))}return t},t.prototype.stringFormat=function(t,e){return t&&e&&0!==e.length?(e.forEach(function(e,n){return t=t.replace(new RegExp("\\{"+n+"\\}","g"),e)}),t):t},t.prototype.updateParams=function(t,e){var n=this;return t.map(function(t){if("string"==typeof t&&-1!==t.indexOf(".")){var r=t.split("."),o=r[0],i=r[1],s=(n.getAppFontJson(o,i)||{})[e];return void 0!==s?s:t}return t})},t.prototype.releaseAll=function(){this.appFontMap=null,this.appFontJsonMap=null},t.prototype.reset=function(){this.appFontMap||(this.appFontMap=new Map),this.appFontJsonMap||(this.appFontJsonMap=new Map)},t}();n.startHelper=new o,cc._RF.pop()},{"./version":"version"}],start:[function(t,e,n){"use strict";cc._RF.push(e,"b6c07VJywVFWrtC9esmUvVq","start");var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(e){i(e)}}function a(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(t){return function(e){return c([t,e])}}function c(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("./LoadingCmpt"),p=t("./StartHelper"),l=t("./version"),u=cc._decorator,f=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingCmpt=null,e.curPercent=0,e.dstPercent=0,e.isResReady=!1,e.progress1=0,e.progress2=0,e.isBundleReady=!1,e}return o(e,t),e.prototype.onLoad=function(){cc.dynamicAtlasManager.enabled=!1,cc.macro.SUPPORT_TEXTURE_FORMATS=[".png",".jpg",".jpeg",".pkm",".pvr",".bmp"],this.loadingCmpt=cc.find("wxLogo").getComponent(c.default),this.loadingCmpt.reset();var t="";try{t=localStorage.getItem("__@version__")}catch(n){console.log(n)}if(!t||""===t){cc.sys.platform===cc.sys.WECHAT_GAME&&wx.uma&&wx.uma.trackEvent("game_new_user");try{localStorage.setItem("__@version__","1")}catch(n){console.error(n)}}if(cc.sys.platform===cc.sys.WECHAT_GAME){var e=l.default.getLocalLang();this.loadingCmpt.setDesc(p.startHelper.readying[e])}else cc.sys.isNative&&(this.loadingCmpt.onNative(),this.initLogo())},e.prototype.start=function(){var t=this;this.curPercent=0,this.dstPercent=0,this.progress1=this.progress2=0,"undefined"!=typeof FBInstant?FBInstant.startGameAsync().then(function(){return t.loadBundleOnFB()}):cc.sys.platform===cc.sys.WECHAT_GAME?this.miniGameLoadBundle():cc.sys.isNative||this.loadBundle()},e.prototype.initLogo=function(){var t=this;this.loadingCmpt.node.active=!1,cc.resources.load("tmp/prefab/native/LOGO",cc.Prefab,function(){var e=new cc.Node;cc.tween(e).sequence(cc.delayTime(1.2),cc.fadeOut(.4),cc.callFunc(function(){t.loadingCmpt.node.active=!0,t.loadBundle()}),cc.destroySelf()).start()})},e.prototype.miniGameLoadBundle=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.loadBundleByName("scriptPack"),this.loadBundleByName("appFontPack")])];case 1:return t.sent(),this.resReady(),[2]}})})},e.prototype.initAppFontRes=function(){return s(this,void 0,void 0,function(){var t,e,n,r=this;return a(this,function(o){switch(o.label){case 0:return p.startHelper.reset(),t=cc.assetManager.getBundle("appFontPack"),e=new Promise(function(e){var n=l.default.getLocalLang();t.loadDir("font/"+n,cc.Font,function(t,e){var n=0,o=.05*Math.min(t/e,1);o>n&&(n=o,r.progress1=o)},function(t,n){t?e(!1):(n.forEach(function(t){return p.startHelper.setAppFont(t.name,t)}),e(!0))})}),n=new Promise(function(e){t.loadDir("json/",cc.JsonAsset,function(t,e){var n=0,o=.05*Math.min(t/e,1);o>n&&(n=o,r.progress2=o)},function(t,n){t?e(!1):(n.forEach(function(t){return p.startHelper.setAppFontJson(t.name,t)}),e(!0))})}),[4,Promise.all([e,n])];case 1:return o.sent(),[2]}})})},e.prototype.loadBundleByName=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),s(this,void 0,void 0,function(){return a(this,function(r){switch(r.label){case 0:return[4,new Promise(function(r){cc.assetManager.loadBundle(t,function(o){o?(console.error("loadBundleError: ",t,o),n&&n(),r(!1)):(e&&e(),r(!0))})})];case 1:return r.sent()?[2]:[4,new Promise(function(t){return setTimeout(t,100)})];case 2:return r.sent(),[3,0];case 3:return[2]}})})},e.prototype.loadBundleOnFB=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.loadBundleByName("scriptPack"),this.loadBundleByName("appFontPack")])];case 1:return t.sent(),this.resReady(),[2]}})})},e.prototype.loadBundle=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.loadBundleByName("scriptPack"),this.loadBundleByName("appFontPack")])];case 1:return t.sent(),this.resReady(),[2]}})})},e.prototype.resReady=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.isBundleReady=!0,[4,this.initAppFontRes()];case 1:return t.sent(),this.isResReady=!0,[2]}})})},e.prototype.go=function(){return s(this,void 0,void 0,function(){return a(this,function(){return this.dstPercent=1,cc.director.loadScene("app"),[2]})})},e.prototype.update=function(t){if(this.isBundleReady){if(this.dstPercent<1){var e=this.dstPercent+this.progress1+this.progress2;this.dstPercent=Math.min(e,1)}}else this.dstPercent+=.5*t,this.dstPercent=Math.min(this.dstPercent,.9);this.isResReady&&(this.isResReady=!1,this.go()),this.curPercent>=this.dstPercent||cc.sys.platform!==cc.sys.WECHAT_GAME||(this.curPercent=Math.min(this.curPercent+1*t,this.dstPercent),this.loadingCmpt.setProgressText(Math.floor(100*this.curPercent)+"%"))},i([f],e)}(cc.Component));n.default=h,cc._RF.pop()},{"./LoadingCmpt":"LoadingCmpt","./StartHelper":"StartHelper","./version":"version"}],version:[function(t,e,n){"use strict";cc._RF.push(e,"87d81e5neVC7LsRDHDgAP/9","version"),Object.defineProperty(n,"__esModule",{value:!0});var r="",o="";n.default={VERSION:"1.0.0",APP_TYPE:"global",getAppType:function(){var t;return o||(cc.sys.isBrowser&&(null===(t=null===location||void 0===location?void 0:location.search)||void 0===t||t.replace("?","").split("&").forEach(function(t){var e=t.split("="),n=e[0],r=e[1];"p"===n&&(o=r.startsWith("g")?"global":"inland")})),o||(o="global"),o)},getLocalLang:function(){return r||(r="en"),r},IS_GAME_MONETIZE:!1},cc._RF.pop()},{}]},{},["LangLabel","LangSprite","LoadingCmpt","StartHelper","ExtendSpineData","start","version"]);